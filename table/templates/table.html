<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
	
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"> 
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js" integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT" crossorigin="anonymous"></script>
    
    
    <link 
        rel="shortcut icon" 
        type="image/x-icon" 
        href="https://z3.ax1x.com/2021/10/29/5OWL2n.png"
        media="screen" 
    />
    <title>程序员福音</title>
</head>
<body>
    <table 
        class="table border-primary table-hover table-bordered" 
        style="width:80%;margin:0 auto;"
    >
        <tr>
            <th>id</th>
            <th>产品名字</th>
            <th>产品价格</th>
            <th>经营形式</th>
            <th>商店名称</th>
            <th>product_location</th>
            <th>商品功能</th>
            <th>好评率</th>
            <th>评论数量</th>
        </tr>
        {%for data in ulist%}
        <tr>
            <th>{{data.id}}</th>
            <th>
                <a href={{data.product_url}}  target="_blank" >
                    {{data.product_name}}
                </a>  
            </th>
            <th>{{data.product_price}}</th>
            <th>{{data.product_warehouse}}</th>
            <th>{{data.product_shop_name}}</th>
            <th>{{data.product_location}}</th>
            <th>{{data.product_function}}</th>
            <th>{{data.goodRate}}</th>
            <th>{{data.commentSum}}</th>
        </tr>
        {%endfor%}
    </table>
    {% if is_paginated %}
        <ul class="pagination pull-center" style="margin-left:35%">
            {% endif %}
            <li class="previous"><a href="{%url "index_view" pageId|add:-1%}">上一页</a></li>
            {% if data.first %}
                <li class="page"><a href="{%url "index_view" 1%}">1</a></li>
            {% endif %}
            {% if data.left %}
                {% if data.left_has_more %}
                    <li class="page"><a href="javascript:void(0)">...</a></li>
                {% endif %}
                {% for i in data.left %}
                    <li class="page"><a href="{%url "index_view" i%}">{{ i }}</a></li>
                {% endfor %}
            {% endif %}
            {% comment %} <li class="page active" ><a href="javascript:void(0)"> {{ page_num }}</a></li> {% endcomment %}
            {% if data.right %}
                {% for i in data.right %}
                    <li class="page"><a href="{%url "index_view" i%}">{{ i }}</a></li>
                {% endfor %}
                {% if data.right_has_more %}
                    <li class="page"><a href="javascript:void(0)">...</a></li>
                {% endif %}
            {% endif %}
            {% if data.last %}
                <li class="page"><a
                        href="{%url "index_view" paginator.num_pages%}">{{ paginator.num_pages }}</a>
                </li>
            {% endif %}
            <li class="next"><a href="{%url "index_view" pageId|add:1%}">下一页</a></li>
        </ul>

   
    <div style="display:flex;margin-left:35%;margin-bottom:32px;justify-content:space-between;width:120px">
        <button 
            class="btn btn-primary" 
            data-bs-toggle="offcanvas" 
            href="#offcanvasExample" 
            role="button" 
            aria-controls="offcanvasExample"
            style = "margin-right:23px"
        >
            项目介绍
        </button>

        <a  
          class="btn btn-primary" 
          style = "margin-right:23px"
          href="http://127.0.0.1:8000/graph/"
        >
          一键数据分析
        </a>
        <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
        <script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
	    <script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" data-whatever="@mdo">分享</button>

    </div>

   <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasExample" aria-labelledby="offcanvasExampleLabel">
  <div class="offcanvas-header">
	<h1 class="offcanvas-title" id="offcanvasExampleLabel">项目介绍</h1>
	<button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>
  <div class="offcanvas-body">
	<div>
    <h3>项目构成要素</h3>
    <ul>
      <li>网络爬虫，所有的数据都源自于京东页面上的数据，共有3999条数据</li>
      <li>后台django框架，用于处理前后端交互的事宜</li>
      <li>pyechart数据分析，生成了饼图、词云图</li>
  </ul>
    <h3>功能</h3>
    <ul>
      <li>用了分页组件，可以按页数查看这589页的数据<li>
      <li>有了数据分析生成的图形，可以更好得了解洗发水的相关信息</li>
      <li>分享按钮具有发邮件的功能，可以把自己喜欢的洗发水推荐给别人，让别人更加强大</li>
    </ul>
	</div>
  </div>
</div>

<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">分享洗发水给自己的好友，让他也变得更强</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
        <form method='post' action="{%url "index_view" pageId%}" class="modal-body">
          <div class="form-group">
            <label for="recipient-name" class="col-form-label">收件人</label>
            <input type="text" class="form-control" name="email">
          </div>
          <div class="form-group">
            <label for="message-text" class="col-form-label">内容:</label>
            <textarea class="form-control" name="msg"></textarea>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">关闭</button>
            <input  type="submit" class="btn btn-primary" value="发送"/>
          </div>
        </form>
    </div>
  </div>
</div>
</body>
</html>